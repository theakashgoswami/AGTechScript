function initUnitsSlider(){let e=document.getElementById("unitsGrid");if(!e)return;let t=Array.from(e.querySelectorAll(".unit-card")),n=document.getElementById("unitThumbs"),i=t.length;if(!i)return;let s=0,a=!0,l=null,d=null,r=!1;t.forEach((e,t)=>{let i=window.getComputedStyle(e).backgroundImage,s=i&&"none"!==i?i.replace(/^url\((['"]?)(.*)\1\)$/,"$2"):"",l=document.createElement("div");l.className="unit-thumb",s&&(l.style.backgroundImage=`url("${s}")`),l.title=e.dataset.title||`Slide ${t+1}`,l.addEventListener("click",()=>{a=!1,o(t),setTimeout(()=>{a=!0,L()},4e3)}),n.appendChild(l)});let c=Array.from(n.children);function o(e){s=(e%i+i)%i,t.forEach(e=>e.className="unit-card"),c.forEach(e=>e.classList.remove("active"));let n=s,a=(s-1+i)%i,l=(s+1)%i,d=(s-2+i)%i,r=(s+2)%i;t[n].classList.add("active"),t[a].classList.add("left"),t[l].classList.add("right"),i>3&&(t[d].classList.add("left2"),t[r].classList.add("right2")),t.forEach((e,t)=>{[n,a,l,d,r].includes(t)||e.classList.add("off")}),c[s].classList.add("active")}function u(){l&&clearInterval(l),a&&(l=setInterval(()=>{o(s+1)},2e3))}function v(){l&&clearInterval(l),l=null}function L(){v(),a&&u()}e.addEventListener("pointerdown",e=>{r=!0,d=e.clientX,v()},{passive:!0}),window.addEventListener("pointerup",e=>{if(!r)return;r=!1;let t=d-e.clientX;Math.abs(t)>50&&(t>0?o(s+1):o(s-1)),L()}),e.addEventListener("mouseenter",()=>{v()},{passive:!0}),e.addEventListener("mouseleave",()=>{a&&u()},{passive:!0}),e.addEventListener("touchstart",()=>{v()},{passive:!0}),e.addEventListener("touchend",()=>{a&&u()},{passive:!0}),document.addEventListener("keydown",e=>{"ArrowRight"===e.key&&(o(s+1),L()),"ArrowLeft"===e.key&&(o(s-1),L())}),o(0),u(),window._unitSlider={next:()=>o(s+1),prev:()=>o(s-1),go:e=>o(e),pause(){a=!1,v()},play(){a=!0,u()},openFAQ(){let e=document.getElementById("aiFloatingBtn");e&&e.click()}}}document.addEventListener("DOMContentLoaded",function(){initUnitsSlider()}),function(){function e(){let e=document.querySelectorAll(".story-card");if(0===e.length){console.log("❌ No stories found");return}console.log("✅ Found "+e.length+" stories");let t=0;e.forEach(e=>{e.classList.remove("active","prev")}),e[0].classList.add("active"),setInterval(()=>{e[t].classList.remove("active"),e[t].classList.add("prev"),e[t=(t+1)%e.length].classList.add("active"),e[t].classList.remove("prev"),e.forEach((n,i)=>{i!==t&&i!==(t-1+e.length)%e.length&&n.classList.remove("prev")})},3200)}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",e):e(),setTimeout(e,500)}();